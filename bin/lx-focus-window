#! /bin/bash

title="$1"
shift

app="$@"

if [ -z "$title" -o -z "$app" ]; then
    echo "Usage: $0 [title-match] [app-to-launch]" >&2
    exit 1
fi

readonly existing_window_id=$(wmctrl -lx | grep "$title" | awk '{print $1}')

if [[ -n $existing_window_id ]]; then
    exec wmctrl -ia "$existing_window_id"
else
    >&2 echo "> Starting app: $app"
    exec "$@"
fi
